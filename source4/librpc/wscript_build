#!/usr/bin/env python

bld.RECURSE('../../librpc/idl')
bld.RECURSE('idl')

bld.SAMBA_LIBRARY('LIBNDR',
	source='../../librpc/ndr/ndr_string.c ../../librpc/ndr/ndr_basic.c ../../librpc/ndr/uuid.c ../../librpc/ndr/ndr.c ../../librpc/ndr/ndr_misc.c ../../librpc/gen_ndr/ndr_misc.c',
	pc_files='../../librpc/ndr.pc',
	public_deps='LIBSAMBA-ERRORS talloc LIBSAMBA-UTIL CHARSET LIBSAMBA-HOSTCONFIG',
	public_headers='../../librpc/gen_ndr/misc.h ../../librpc/gen_ndr/ndr_misc.h ../../librpc/ndr/libndr.h:ndr.h',
        header_path= [ ( '*gen_ndr*', 'gen_ndr' ) ],
        depends_on='PIDL_MISC',
	vnum='0.0.1'
	)


bld.SAMBA_BINARY('ndrdump',
	source='../../librpc/tools/ndrdump.c',
	manpages='../../librpc/tools/ndrdump.1',
	deps='LIBSAMBA-HOSTCONFIG LIBSAMBA-UTIL popt POPT_SAMBA NDR_TABLE LIBSAMBA-ERRORS'
	)


bld.SAMBA_SUBSYSTEM('NDR_COMPRESSION',
	source='../../librpc/ndr/ndr_compression.c',
	public_deps='LIBSAMBA-ERRORS LIBNDR',
	deps='ZLIB LZXPRESS'
	)


bld.SAMBA_SUBSYSTEM('NDR_SECURITY',
	source='../../librpc/gen_ndr/ndr_security.c ../../librpc/ndr/ndr_sec_helper.c gen_ndr/ndr_server_id.c',
	public_deps='LIBNDR LIBSECURITY',
	public_headers='../../librpc/gen_ndr/security.h gen_ndr/server_id.h',
        header_path='gen_ndr'
	)


bld.SAMBA_SUBSYSTEM('NDR_AUDIOSRV',
	source='../../librpc/gen_ndr/ndr_audiosrv.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_NAMED_PIPE_AUTH',
	source='../../librpc/gen_ndr/ndr_named_pipe_auth.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_DNSSERVER',
	source='../../librpc/gen_ndr/ndr_dnsserver.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_WINSTATION',
	source='gen_ndr/ndr_winstation.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_IRPC',
	source='gen_ndr/ndr_irpc.c',
	public_deps='LIBNDR NDR_SECURITY NDR_NBT'
	)


bld.SAMBA_SUBSYSTEM('NDR_DCOM',
	source='../../librpc/gen_ndr/ndr_dcom.c',
	public_deps='LIBNDR NDR_SECURITY NDR_ORPC'
	)


bld.SAMBA_SUBSYSTEM('NDR_WMI',
	source='../../librpc/ndr/ndr_wmi.c ../../librpc/gen_ndr/ndr_wmi.c',
	public_deps='LIBNDR NDR_SECURITY NDR_DCOM'
	)


bld.SAMBA_SUBSYSTEM('NDR_DSBACKUP',
	source='../../librpc/gen_ndr/ndr_dsbackup.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_EFS',
	source='../../librpc/gen_ndr/ndr_efs.c',
	public_deps='LIBNDR NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_ROT',
	source='../../librpc/gen_ndr/ndr_rot.c',
	public_deps='LIBNDR NDR_ORPC'
	)


bld.SAMBA_SUBSYSTEM('NDR_FRSRPC',
	source='../../librpc/ndr/ndr_frsrpc.c ../../librpc/gen_ndr/ndr_frsrpc.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_FRSAPI',
	source='../../librpc/gen_ndr/ndr_frsapi.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_FRSTRANS',
	source='../../librpc/gen_ndr/ndr_frstrans.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_DRSUAPI',
	source='../../librpc/ndr/ndr_drsuapi.c ../../librpc/gen_ndr/ndr_drsuapi.c',
	public_deps='LIBNDR NDR_COMPRESSION NDR_SECURITY NDR_STANDARD ASN1_UTIL'
	)


bld.SAMBA_SUBSYSTEM('NDR_DRSBLOBS',
	source='../../librpc/ndr/ndr_drsblobs.c ../../librpc/gen_ndr/ndr_drsblobs.c',
	public_deps='LIBNDR NDR_DRSUAPI'
	)


bld.SAMBA_SUBSYSTEM('NDR_DFSBLOBS',
	source='../../librpc/gen_ndr/ndr_dfsblobs.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_SASL_HELPERS',
	source='gen_ndr/ndr_sasl_helpers.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_POLICYAGENT',
	source='../../librpc/gen_ndr/ndr_policyagent.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_UNIXINFO',
	source='../../librpc/gen_ndr/ndr_unixinfo.c',
	public_deps='LIBNDR NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_NFS4ACL',
	source='gen_ndr/ndr_nfs4acl.c',
	public_deps='LIBNDR NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_SPOOLSS',
	source='../../librpc/gen_ndr/ndr_spoolss.c',
	public_deps='LIBNDR NDR_SPOOLSS_BUF NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_SPOOLSS_BUF',
	source='../../librpc/ndr/ndr_spoolss_buf.c',
        deps='talloc'
	)


bld.SAMBA_SUBSYSTEM('NDR_EPMAPPER',
	source='../../librpc/gen_ndr/ndr_epmapper.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_DBGIDL',
	source='../../librpc/gen_ndr/ndr_dbgidl.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_DSSETUP',
	source='../../librpc/gen_ndr/ndr_dssetup.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_MSGSVC',
	source='../../librpc/gen_ndr/ndr_msgsvc.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_WINSIF',
	source='gen_ndr/ndr_winsif.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_MGMT',
	source='../../librpc/gen_ndr/ndr_mgmt.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_PROTECTED_STORAGE',
	source='../../librpc/gen_ndr/ndr_protected_storage.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_ORPC',
	source='../../librpc/ndr/ndr_orpc.c ../../librpc/gen_ndr/ndr_orpc.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_OXIDRESOLVER',
	source='../../librpc/gen_ndr/ndr_oxidresolver.c',
	public_deps='LIBNDR NDR_ORPC'
	)


bld.SAMBA_SUBSYSTEM('NDR_REMACT',
	source='../../librpc/gen_ndr/ndr_remact.c',
	public_deps='LIBNDR NDR_ORPC'
	)


bld.SAMBA_SUBSYSTEM('NDR_WZCSVC',
	source='../../librpc/gen_ndr/ndr_wzcsvc.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_BROWSER',
	source='../../librpc/gen_ndr/ndr_browser.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_W32TIME',
	source='../../librpc/gen_ndr/ndr_w32time.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_SCERPC',
	source='../../librpc/gen_ndr/ndr_scerpc.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_TRKWKS',
	source='../../librpc/gen_ndr/ndr_trkwks.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_KEYSVC',
	source='../../librpc/gen_ndr/ndr_keysvc.c',
	public_deps='LIBNDR'
	)

bld.SAMBA_SUBSYSTEM('NDR_RAP',
	source='../../librpc/gen_ndr/ndr_rap.c ../../librpc/ndr/ndr_rap.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_KRB5PAC',
	source='../../librpc/ndr/ndr_krb5pac.c ../../librpc/gen_ndr/ndr_krb5pac.c',
	public_deps='LIBNDR NDR_STANDARD NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_XATTR',
	source='../../librpc/ndr/ndr_xattr.c ../../librpc/gen_ndr/ndr_xattr.c',
	public_deps='LIBNDR NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('NDR_OPENDB',
	source='gen_ndr/ndr_opendb.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_NOTIFY',
	source='gen_ndr/ndr_s4_notify.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_SCHANNEL',
	source='../../librpc/ndr/ndr_schannel.c ../../librpc/gen_ndr/ndr_schannel.c',
	public_deps='LIBNDR NDR_NBT'
	)


bld.SAMBA_SUBSYSTEM('NDR_NBT',
	source='../../librpc/gen_ndr/ndr_nbt.c',
	public_deps='LIBNDR NDR_NBT_BUF NDR_SECURITY NDR_STANDARD LIBCLI_NDR_NETLOGON',
	public_headers='../../librpc/gen_ndr/nbt.h',
        header_path='gen_ndr'
	)


bld.SAMBA_SUBSYSTEM('NDR_NTP_SIGND',
	source='gen_ndr/ndr_ntp_signd.c',
	public_deps='LIBNDR'
	)


bld.SAMBA_SUBSYSTEM('NDR_WINSREPL',
	source='gen_ndr/ndr_winsrepl.c',
	public_deps='LIBNDR NDR_NBT'
	)


bld.SAMBA_SUBSYSTEM('NDR_IDMAP',
	source='../../librpc/gen_ndr/ndr_idmap.c',
	public_deps='LIBNDR NDR_STANDARD'
	)

bld.SAMBA_SUBSYSTEM('NDR_WINBIND',
	source='gen_ndr/ndr_winbind.c',
	public_deps='NDR_IDMAP LIBNDR NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('NDR_NTLMSSP',
	source='../../librpc/ndr/ndr_ntlmssp.c ../../librpc/gen_ndr/ndr_ntlmssp.c',
	public_deps='LIBNDR NDR_STANDARD'
	)


bld.SAMBA_LIBRARY('NDR_STANDARD',
	source='../../librpc/gen_ndr/ndr_echo.c ../../librpc/gen_ndr/ndr_lsa.c ../../librpc/gen_ndr/ndr_samr.c ../../librpc/ndr/ndr_netlogon.c ../../librpc/gen_ndr/ndr_netlogon.c ../../librpc/gen_ndr/ndr_dfs.c ../../librpc/gen_ndr/ndr_atsvc.c ../../librpc/gen_ndr/ndr_wkssvc.c ../../librpc/gen_ndr/ndr_srvsvc.c ../../librpc/ndr/ndr_svcctl.c ../../librpc/gen_ndr/ndr_svcctl.c ../../librpc/gen_ndr/ndr_winreg.c ../../librpc/gen_ndr/ndr_initshutdown.c ../../librpc/gen_ndr/ndr_eventlog.c ../../librpc/gen_ndr/ndr_ntsvcs.c',
	vnum='0.0.1',
	pc_files='../../librpc/ndr_standard.pc',
	deps='NDR_SECURITY',
	public_deps='LIBNDR',
	public_headers='../../librpc/gen_ndr/samr.h ../../librpc/gen_ndr/ndr_samr.h ../../librpc/gen_ndr/lsa.h ../../librpc/gen_ndr/netlogon.h ../../librpc/gen_ndr/atsvc.h ../../librpc/gen_ndr/ndr_atsvc.h ../../librpc/gen_ndr/ndr_svcctl.h ../../librpc/gen_ndr/svcctl.h',
        header_path='gen_ndr'
	)


bld.SAMBA_PIDL_TABLES('GEN_NDR_TABLES', 'gen_ndr/tables.c')

bld.SAMBA_SUBSYSTEM('NDR_TABLE',
	source='../../librpc/ndr/ndr_table.c gen_ndr/tables.c',
	public_deps='NDR_STANDARD NDR_AUDIOSRV NDR_DSBACKUP NDR_EFS NDR_DRSUAPI NDR_POLICYAGENT NDR_UNIXINFO NDR_SPOOLSS NDR_EPMAPPER NDR_DBGIDL NDR_DSSETUP NDR_MSGSVC NDR_WINSIF NDR_MGMT NDR_PROTECTED_STORAGE NDR_OXIDRESOLVER NDR_REMACT NDR_WZCSVC NDR_BROWSER NDR_W32TIME NDR_SCERPC NDR_TRKWKS NDR_KEYSVC NDR_KRB5PAC NDR_XATTR NDR_SCHANNEL NDR_ROT NDR_DRSBLOBS NDR_NBT NDR_WINSREPL NDR_SECURITY NDR_DNSSERVER NDR_WINSTATION NDR_IRPC NDR_OPENDB NDR_SASL_HELPERS NDR_NOTIFY NDR_WINBIND NDR_FRSRPC NDR_FRSAPI NDR_FRSTRANS NDR_NFS4ACL NDR_NTP_SIGND NDR_DCOM NDR_WMI NDR_NAMED_PIPE_AUTH NDR_NTLMSSP NDR_DFSBLOBS',
        depends_on='GEN_NDR_TABLES'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_XATTR',
	source='../../librpc/gen_ndr/ndr_xattr_c.c',
	public_deps='NDR_XATTR dcerpc'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_ROT',
	source='../../librpc/gen_ndr/ndr_rot_c.c',
	public_deps='NDR_ROT dcerpc'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_AUDIOSRV',
	source='../../librpc/gen_ndr/ndr_audiosrv_c.c',
	public_deps='NDR_AUDIOSRV dcerpc'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_ECHO',
	source='../../librpc/gen_ndr/ndr_echo_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DSBACKUP',
	source='../../librpc/gen_ndr/ndr_dsbackup_c.c',
	public_deps='dcerpc NDR_DSBACKUP'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_EFS',
	source='../../librpc/gen_ndr/ndr_efs_c.c',
	public_deps='dcerpc NDR_EFS'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_LSA',
	source='../../librpc/gen_ndr/ndr_lsa_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DFS',
	source='../../librpc/gen_ndr/ndr_dfs_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_FRSAPI',
	source='../../librpc/gen_ndr/ndr_frsapi_c.c',
	public_deps='dcerpc NDR_FRSAPI'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DRSUAPI',
	source='../../librpc/gen_ndr/ndr_drsuapi_c.c',
	public_deps='dcerpc NDR_DRSUAPI'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DRSBLOBS',
	source='../../librpc/gen_ndr/ndr_drsblobs_c.c',
	public_deps='dcerpc NDR_DRSBLOBS'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_POLICYAGENT',
	source='../../librpc/gen_ndr/ndr_policyagent_c.c',
	public_deps='dcerpc NDR_POLICYAGENT'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_UNIXINFO',
	source='../../librpc/gen_ndr/ndr_unixinfo_c.c',
	public_deps='dcerpc NDR_UNIXINFO'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_BROWSER',
	source='../../librpc/gen_ndr/ndr_browser_c.c',
	public_deps='dcerpc NDR_BROWSER'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_IRPC',
	source='gen_ndr/ndr_irpc_c.c',
	public_deps='dcerpc NDR_IRPC'
	)


bld.SAMBA_LIBRARY('dcerpc_samr',
	source='../../librpc/gen_ndr/ndr_samr_c.c',
        pc_files='dcerpc_samr.pc',
	vnum='0.0.1',
	public_deps='dcerpc NDR_STANDARD',
	public_headers='../../librpc/gen_ndr/ndr_samr_c.h',
        header_path='gen_ndr'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_SPOOLSS',
	source='../../librpc/gen_ndr/ndr_spoolss_c.c',
	public_deps='dcerpc NDR_SPOOLSS'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_WKSSVC',
	source='../../librpc/gen_ndr/ndr_wkssvc_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_SRVSVC',
	source='../../librpc/gen_ndr/ndr_srvsvc_c.c',
	public_deps='dcerpc NDR_SRVSVC'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_SVCCTL',
	source='../../librpc/gen_ndr/ndr_svcctl_c.c',
	public_deps='dcerpc NDR_STANDARD',
	public_headers='../../librpc/gen_ndr/ndr_svcctl_c.h',
        header_path='gen_ndr'
	)


bld.SAMBA_LIBRARY('dcerpc_atsvc',
	source='../../librpc/gen_ndr/ndr_atsvc_c.c',
	pc_files='dcerpc_atsvc.pc',
	vnum='0.0.1',
	public_deps='dcerpc NDR_STANDARD',
	public_headers='../../librpc/gen_ndr/ndr_atsvc_c.h',
        header_path='gen_ndr'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_EVENTLOG',
	source='../../librpc/gen_ndr/ndr_eventlog_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_EPMAPPER',
	source='../../librpc/gen_ndr/ndr_epmapper_c.c',
	public_deps='tevent NDR_EPMAPPER'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DBGIDL',
	source='../../librpc/gen_ndr/ndr_dbgidl_c.c',
	public_deps='dcerpc NDR_DBGIDL'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_DSSETUP',
	source='../../librpc/gen_ndr/ndr_dssetup_c.c',
	public_deps='dcerpc NDR_DSSETUP'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_MSGSVC',
	source='../../librpc/gen_ndr/ndr_msgsvc_c.c',
	public_deps='dcerpc NDR_MSGSVC'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_WINSIF',
	source='gen_ndr/ndr_winsif_c.c',
	public_deps='dcerpc NDR_WINSIF'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_WINREG',
	source='../../librpc/gen_ndr/ndr_winreg_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_INITSHUTDOWN',
	source='../../librpc/gen_ndr/ndr_initshutdown_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_MGMT',
	source='../../librpc/gen_ndr/ndr_mgmt_c.c',
	deps='tevent NDR_MGMT'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_PROTECTED_STORAGE',
	source='../../librpc/gen_ndr/ndr_protected_storage_c.c',
	public_deps='dcerpc NDR_PROTECTED_STORAGE'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_OXIDRESOLVER',
	source='../../librpc/gen_ndr/ndr_oxidresolver_c.c',
	public_deps='dcerpc NDR_OXIDRESOLVER'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_REMACT',
	source='../../librpc/gen_ndr/ndr_remact_c.c',
	public_deps='dcerpc NDR_REMACT'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_WZCSVC',
	source='../../librpc/gen_ndr/ndr_wzcsvc_c.c',
	public_deps='dcerpc NDR_WZCSVC'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_W32TIME',
	source='../../librpc/gen_ndr/ndr_w32time_c.c',
	public_deps='dcerpc NDR_W32TIME'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_SCERPC',
	source='../../librpc/gen_ndr/ndr_scerpc_c.c',
	public_deps='dcerpc NDR_SCERPC'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_NTSVCS',
	source='../../librpc/gen_ndr/ndr_ntsvcs_c.c',
	public_deps='dcerpc NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_NETLOGON',
	source='../../librpc/gen_ndr/ndr_netlogon_c.c',
	public_deps='NDR_STANDARD'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_TRKWKS',
	source='../../librpc/gen_ndr/ndr_trkwks_c.c',
	public_deps='dcerpc NDR_TRKWKS'
	)


bld.SAMBA_SUBSYSTEM('RPC_NDR_KEYSVC',
	source='../../librpc/gen_ndr/ndr_keysvc_c.c',
	public_deps='dcerpc NDR_KEYSVC'
	)


bld.SAMBA_SUBSYSTEM('NDR_DCERPC',
	source='../../librpc/gen_ndr/ndr_dcerpc.c',
	public_deps='LIBNDR',
	public_headers='rpc/dcerpc.h ../../librpc/gen_ndr/ndr_dcerpc.h ../../librpc/gen_ndr/dcerpc.h',
        header_path= [ ('*gen_ndr*', 'gen_ndr') ],
	)

bld.SAMBA_LIBRARY('dcerpc',
	source='rpc/dcerpc.c rpc/dcerpc_auth.c rpc/dcerpc_schannel.c rpc/dcerpc_util.c rpc/dcerpc_smb.c rpc/dcerpc_smb2.c rpc/dcerpc_sock.c rpc/dcerpc_connect.c rpc/dcerpc_secondary.c ../../librpc/rpc/binding.c ../../librpc/rpc/dcerpc_error.c ../../librpc/rpc/dcerpc_util.c',
	pc_files='dcerpc.pc',
	deps='samba_socket LIBCLI_RESOLVE LIBCLI_SMB LIBCLI_SMB2 LIBNDR NDR_DCERPC RPC_NDR_EPMAPPER NDR_SCHANNEL RPC_NDR_NETLOGON RPC_NDR_MGMT gensec LIBCLI_AUTH LIBCLI_RAW LP_RESOLVE UTIL_TEVENT',
	autoproto='rpc/dcerpc_proto.h',
	public_deps='CREDENTIALS tevent talloc',
	public_headers='../../librpc/gen_ndr/mgmt.h ../../librpc/gen_ndr/ndr_mgmt.h ../../librpc/gen_ndr/ndr_mgmt_c.h ../../librpc/gen_ndr/epmapper.h ../../librpc/gen_ndr/ndr_epmapper.h ../../librpc/gen_ndr/ndr_epmapper_c.h',
        header_path='gen_ndr',
	vnum='0.0.1'
	)


bld.SAMBA_PYTHON('python_dcerpc',
	source='rpc/pyrpc.c',
	public_deps='LIBCLI_SMB LIBSAMBA-UTIL LIBSAMBA-HOSTCONFIG dcerpc_samr RPC_NDR_LSA DYNCONFIG pycredentials pyparam_util',
	realname='samba/dcerpc/base.so'
	)


bld.SAMBA_PYTHON('python_echo',
	source='../../librpc/gen_ndr/py_echo.c',
	deps='RPC_NDR_ECHO PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/echo.so'
	)


bld.SAMBA_PYTHON('python_winreg',
	source='../../librpc/gen_ndr/py_winreg.c',
	deps='RPC_NDR_WINREG PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/winreg.so'
	)


bld.SAMBA_PYTHON('python_dcerpc_misc',
	source='../../librpc/gen_ndr/py_misc.c',
	deps='PYTALLOC python_dcerpc NDR_MISC NDR_KRB5PAC',
	realname='samba/dcerpc/misc.so'
	)


bld.SAMBA_PYTHON('python_initshutdown',
	source='../../librpc/gen_ndr/py_initshutdown.c',
	deps='RPC_NDR_INITSHUTDOWN PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/initshutdown.so'
	)


bld.SAMBA_PYTHON('python_epmapper',
	source='../../librpc/gen_ndr/py_epmapper.c',
	deps='dcerpc PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/epmapper.so'
	)


bld.SAMBA_PYTHON('python_mgmt',
	source='../../librpc/gen_ndr/py_mgmt.c',
	deps='PYTALLOC param pycredentials dcerpc python_dcerpc',
	realname='samba/dcerpc/mgmt.so'
	)


bld.SAMBA_PYTHON('python_atsvc',
	source='../../librpc/gen_ndr/py_atsvc.c',
	deps='dcerpc_atsvc PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/atsvc.so'
	)


bld.SAMBA_PYTHON('python_dcerpc_nbt',
	source='../../librpc/gen_ndr/py_nbt.c',
	deps='NDR_NBT PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/nbt.so'
	)


bld.SAMBA_PYTHON('python_samr',
	source='../../librpc/gen_ndr/py_samr.c',
	deps='dcerpc_samr PYTALLOC pycredentials pyparam_util python_dcerpc',
	realname='samba/dcerpc/samr.so'
	)


bld.SAMBA_PYTHON('python_svcctl',
	source='../../librpc/gen_ndr/py_svcctl.c',
	deps='RPC_NDR_SVCCTL PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/svcctl.so'
	)


bld.SAMBA_PYTHON('python_lsa',
	source='../../librpc/gen_ndr/py_lsa.c',
	deps='RPC_NDR_LSA PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/lsa.so'
	)


bld.SAMBA_PYTHON('python_wkssvc',
	source='../../librpc/gen_ndr/py_wkssvc.c',
	deps='RPC_NDR_WKSSVC PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/wkssvc.so'
	)


bld.SAMBA_PYTHON('python_dfs',
	source='../../librpc/gen_ndr/py_dfs.c',
	deps='RPC_NDR_DFS PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/dfs.so'
	)


bld.SAMBA_PYTHON('python_unixinfo',
	source='../../librpc/gen_ndr/py_unixinfo.c',
	deps='RPC_NDR_UNIXINFO PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/unixinfo.so'
	)


bld.SAMBA_PYTHON('python_irpc',
	source='gen_ndr/py_irpc.c',
	deps='RPC_NDR_IRPC PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/irpc.so'
	)


bld.SAMBA_PYTHON('python_drsuapi',
	source='../../librpc/gen_ndr/py_drsuapi.c',
	deps='RPC_NDR_DRSUAPI PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/drsuapi.so'
	)


bld.SAMBA_PYTHON('python_drsblobs',
	source='../../librpc/gen_ndr/py_drsblobs.c',
	deps='RPC_NDR_DRSBLOBS PYTALLOC pyparam_util pycredentials python_dcerpc',
	realname='samba/dcerpc/drsblobs.so'
	)


bld.SAMBA_PYTHON('python_dcerpc_security',
	source='../../librpc/gen_ndr/py_security.c',
	deps='PYTALLOC python_dcerpc_misc python_dcerpc NDR_SECURITY',
	realname='samba/dcerpc/security.so'
	)

bld.SAMBA_PYTHON('python_dcerpc_drsblobs',
	source='../../librpc/gen_ndr/py_drsblobs.c ../../librpc/gen_ndr/ndr_drsblobs_c.c',
	deps='PYTALLOC python_dcerpc_misc python_dcerpc NDR_SECURITY',
	realname='samba/dcerpc/drsblobs.so'
	)


bld.SAMBA_PYTHON('python_dcerpc_xattr',
	source='../../librpc/gen_ndr/py_xattr.c',
	deps='PYTALLOC python_dcerpc_misc python_dcerpc python_dcerpc_security NDR_XATTR RPC_NDR_XATTR',
	realname='samba/dcerpc/xattr.so'
	)

bld.SAMBA_SCRIPT('python_dcerpc_init',
                 pattern='rpc/dcerpc.py',
                 installdir='python/samba/dcerpc',
                 installname='__init__.py')

bld.INSTALL_FILES('${PYTHONDIR}/samba/dcerpc', 'rpc/dcerpc.py', destname='__init__.py')
