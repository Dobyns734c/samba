#!/usr/bin/env python

bld.SAMBA_MODULE('auth_sam_module',
	source='auth_sam.c',
	subsystem='auth',
	init_function='auth_sam_init',
	deps='SAMDB auth_sam ntlm_check'
	)


bld.SAMBA_MODULE('auth_anonymous',
	source='auth_anonymous.c',
	subsystem='auth',
	init_function='auth_anonymous_init'
	)


bld.SAMBA_MODULE('auth_server',
	source='auth_server.c',
	subsystem='auth',
	init_function='auth_server_init',
	deps='LIBSAMBA-UTIL LIBCLI_SMB'
	)


bld.SAMBA_MODULE('auth_winbind',
	source='auth_winbind.c',
	subsystem='auth',
	init_function='auth_winbind_init',
	deps='NDR_WINBIND MESSAGING LIBWINBIND-CLIENT LIBWBCLIENT'
	)


bld.SAMBA_MODULE('auth_developer',
	source='auth_developer.c',
	subsystem='auth',
	init_function='auth_developer_init'
	)


bld.SAMBA_MODULE('auth_unix',
	source='auth_unix.c',
	subsystem='auth',
	init_function='auth_unix_init',
	deps='pam PAM_ERRORS NSS_WRAPPER UID_WRAPPER LIBTSOCKET'
	)


bld.SAMBA_SUBSYSTEM('PAM_ERRORS',
	source='pam_errors.c',
        deps='talloc'
	)


bld.SAMBA_SUBSYSTEM('auth',
	source='auth.c auth_util.c auth_simple.c',
	autoproto='auth_proto.h',
	deps='LIBSAMBA-UTIL LIBSECURITY SAMDB CREDENTIALS UTIL_TEVENT',
	)

bld.SAMBA_MODULE('auth_server_service',
	source='auth_server_service.c',
	subsystem='service',
	init_function='server_service_auth_init',
	deps='auth',
	internal_module=True
	)

