diff -uNr samba-2.999+3.0.alpha20.orig/source/utils/status.c samba-2.999+3.0.alpha20/source/utils/status.c
--- samba-2.999+3.0.alpha20.orig/source/utils/status.c	2002-09-26 14:38:36.000000000 -0500
+++ samba-2.999+3.0.alpha20/source/utils/status.c	2002-10-04 10:48:46.000000000 -0500
@@ -646,6 +646,12 @@
 	if (!shares_only) {
 		int ret;
 
+		tdb = tdb_open_log(lock_path("locking.tdb"), 0, TDB_DEFAULT, O_RDONLY, 0);
+		if (!tdb) {
+			d_printf("%s not initialised\n", lock_path("locking.tdb"));
+			d_printf("This is normal if an SMB client has never connected to your server.\n");
+			exit(0);
+		}
 		if (!locking_init(1)) {
 			d_printf("Can't initialise locking module - exiting\n");
 			exit(1);
