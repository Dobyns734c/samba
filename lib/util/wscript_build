#!/usr/bin/env python

bld.SAMBA_LIBRARY('LIBSAMBA-UTIL',
	source='xfile.c debug.c fault.c signal.c system.c time.c genrand.c dprintf.c util_str.c rfc1738.c substitute.c util_strlist.c util_file.c data_blob.c util.c blocking.c util_net.c fsusage.c ms_fnmatch.c mutex.c idtree.c become_daemon.c rbtree.c talloc_stack.c smb_threads.c params.c parmlist.c util_id.c',
	public_deps='talloc LIBCRYPTO CHARSET execinfo UID_WRAPPER tevent',
	public_headers='attr.h byteorder.h data_blob.h debug.h memory.h mutex.h safe_string.h time.h talloc_stack.h xfile.h dlinklist.h util.h tevent_ntstatus.h tevent_unix.h',
        header_path= [ ('dlinklist.h util.h', '.'), ('*', 'util') ],
        local_include=False,
	vnum='0.0.1',
	pc_files='samba-util.pc'
	)


bld.SAMBA_SUBSYSTEM('ASN1_UTIL',
                    source='asn1.c',
                    deps='talloc',
                    local_include=False)


bld.SAMBA_SUBSYSTEM('UNIX_PRIVS',
	source='unix_privs.c',
	autoproto='unix_privs.h',
	deps='UID_WRAPPER',
        local_include=False,
	)


bld.SAMBA_SUBSYSTEM('WRAP_XATTR',
	source='wrap_xattr.c',
	public_deps='XATTR',
        deps='talloc',
        local_include=False
	)


bld.SAMBA_SUBSYSTEM('UTIL_TDB',
	source='util_tdb.c',
        local_include=False,
	public_deps='tdb talloc'
	)


bld.SAMBA_SUBSYSTEM('UTIL_TEVENT',
	source='tevent_unix.c tevent_ntstatus.c',
        local_include=False,
	public_deps='tevent'
	)


bld.SAMBA_SUBSYSTEM('UTIL_LDB',
	source='util_ldb.c',
        local_include=False,
	public_deps='ldb',
        public_headers='util_ldb.h'
	)


bld.SAMBA_SUBSYSTEM('UTIL_RUNCMD',
	source='util_runcmd.c',
        local_include=False,
	public_deps='tevent'
	)

